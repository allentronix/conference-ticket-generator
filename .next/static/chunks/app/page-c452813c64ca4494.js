(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1949:(e,t,l)=>{Promise.resolve().then(l.bind(l,9319))},9319:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>h});var a=l(5155),s=l(2115),r=l(9606),i=l(1860),c=l(9938),d=l(3262),n=l.n(d),m=l(6171),u=l.n(m),o=l(6793),x=l.n(o);let b=c.Ik().shape({fullName:c.Yj().required("Full Name is required"),email:c.Yj().email("Invalid email").required("Email is required"),avatar:c.gl().required("Avatar is required"),ticketPrice:c.Yj().required("Ticket selection is required"),ticketQuantity:c.Yj().required("Ticket quantity is required")});function h(){var e,t,l,c,d;let{register:m,handleSubmit:o,setValue:h,watch:f,formState:{errors:j}}=(0,r.mN)({resolver:(0,i.t)(b)}),[N,p]=(0,s.useState)(null),[k,g]=(0,s.useState)(null),[v,w]=(0,s.useState)(""),y=(0,s.useRef)(null);(0,s.useEffect)(()=>{(async function(){let e=await n().getItem("formData");e&&Object.keys(e).forEach(t=>h(t,e[t]))})()},[h]),(0,s.useEffect)(()=>{let e=f(e=>{n().setItem("formData",e)});return()=>e.unsubscribe()},[f]);let q=()=>Math.floor(1e11+9e11*Math.random()).toString();return(0,s.useEffect)(()=>{(null==N?void 0:N.barcode)&&y.current&&u()(y.current,N.barcode,{format:"CODE128",lineColor:"#000",width:2,height:50,displayValue:!0})},[N]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(x(),{children:[(0,a.jsx)("title",{children:"Tickets"}),(0,a.jsx)("link",{rel:"icon",href:"/ticket-icon.png"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-blue-950 p-4",children:[!N&&(0,a.jsxs)("form",{onSubmit:o(e=>{if(!k)return;let t=q();p({...e,avatar:k,barcode:t})}),className:"bg-blue-800 p-6 rounded-lg shadow-md w-full max-w-md border border-blue-500",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-4 text-white",children:"Conference Ticket Form"}),(0,a.jsx)("label",{className:"block mb-2 text-white",children:"Full Name"}),(0,a.jsx)("input",{...m("fullName"),className:"w-full p-2 border rounded mb-2 text-black"}),(0,a.jsx)("p",{className:"text-red-500 text-sm",children:null===(e=j.fullName)||void 0===e?void 0:e.message}),(0,a.jsx)("label",{className:"block mt-4 mb-2 text-white",children:"Email"}),(0,a.jsx)("input",{type:"email",...m("email"),className:"w-full p-2 border rounded mb-2 text-black"}),(0,a.jsx)("p",{className:"text-red-500 text-sm",children:null===(t=j.email)||void 0===t?void 0:t.message}),(0,a.jsx)("label",{className:"block mt-4 mb-2 text-white",children:"Upload Avatar"}),(0,a.jsx)("input",{type:"file",accept:"image/*",className:"w-full p-2 border rounded mb-2 text-white",onChange:e=>{let t=e.target.files[0];t&&g(URL.createObjectURL(t))}}),(0,a.jsx)("p",{className:"text-red-500 text-sm",children:null===(l=j.avatar)||void 0===l?void 0:l.message}),(0,a.jsx)("label",{className:"block mt-4 mb-2 text-white",children:"Select Ticket Type"}),(0,a.jsx)("div",{className:"flex space-x-2",children:["$50 - Early Bird","$75 - Regular","$100 - VIP"].map(e=>(0,a.jsx)("button",{type:"button",className:"p-2 border rounded text-white ".concat(v===e?"bg-blue-500":"bg-blue-300"),onClick:()=>{w(e),h("ticketPrice",e)},children:e},e))}),(0,a.jsx)("p",{className:"text-red-500 text-sm",children:null===(c=j.ticketPrice)||void 0===c?void 0:c.message}),(0,a.jsx)("label",{className:"block mt-4 mb-2 text-white",children:"Number of Tickets"}),(0,a.jsx)("select",{...m("ticketQuantity"),className:"w-full p-2 border rounded mb-2 text-black",children:[...Array(10).keys()].map(e=>(0,a.jsx)("option",{value:e+1,children:e+1},e+1))}),(0,a.jsx)("p",{className:"text-red-500 text-sm",children:null===(d=j.ticketQuantity)||void 0===d?void 0:d.message}),(0,a.jsx)("button",{type:"submit",className:"w-full bg-blue-500 text-white p-2 rounded mt-4 hover:bg-blue-600",children:"Generate Ticket"})]}),N&&(0,a.jsxs)("div",{className:"mt-6 bg-blue-800 p-4 rounded-lg shadow-md text-center border border-blue-500",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-white",children:"Your Ticket"}),(0,a.jsx)("img",{src:N.avatar,alt:"Avatar",className:"w-24 h-24 rounded-full mx-auto mt-2"}),(0,a.jsx)("p",{className:"mt-2 font-semibold text-white",children:N.fullName}),(0,a.jsx)("p",{className:"text-gray-300",children:N.email}),(0,a.jsx)("p",{className:"text-gray-300",children:N.ticketPrice}),(0,a.jsxs)("p",{className:"text-gray-300",children:["Tickets: ",N.ticketQuantity]}),(0,a.jsx)("svg",{ref:y,className:"mx-auto mt-4"})]})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[38,441,517,358],()=>t(1949)),_N_E=e.O()}]);